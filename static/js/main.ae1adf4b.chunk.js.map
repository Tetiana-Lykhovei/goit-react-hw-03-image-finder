{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","services/PixabayApi.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Button","loadMore","onClick","className","s","ImagesGalleryItem","img","openModal","webformatURL","tags","ImageGalleryItem","src","alt","ImageGalleryItemImage","ImageGallery","gallery","map","id","loader","type","Modal","handleKeyDown","e","code","props","showModal","window","addEventListener","this","removeEventListener","closeModal","Overlay","largeImageURL","Component","Searchbar","state","query","handleSubmitForm","event","preventDefault","handleInputChange","currentTarget","setState","SearchForm","onSubmit","SearchFormButton","SearchFormBbuttonLabel","onChange","SearchFormInput","autocomplete","autofocus","placeholder","getFetch","page","axios","get","propTypes","string","number","App","modal","isLoading","button","modalAbout","then","data","hits","length","catch","error","console","alert","target","nodeName","scrollTo","top","document","documentElement","scrollHeight","behavior","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ae1adf4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3tIBc\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__138yb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1y2LZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1MoUC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1K_g5\"};","import propTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <button onClick={loadMore} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  loadMore: propTypes.func.isRequired,\r\n};\r\n","import propTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImagesGalleryItem = ({ img, openModal }) => {\r\n  const { webformatURL, tags } = img;\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        onClick={() => openModal(img)}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nexport default ImagesGalleryItem;\r\n\r\nImagesGalleryItem.propTypes = {\r\n  openModal: propTypes.func.isRequired,\r\n};\r\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport propTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ gallery, openModal }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {gallery.map((img) => (\r\n        <ImageGalleryItem openModal={openModal} img={img} key={img.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  gallery: propTypes.array.isRequired,\r\n  openModal: propTypes.func.isRequired,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst loader = () => {\r\n  return <Loader className={s.loader} type=\"Puff\" />;\r\n};\r\nexport default loader;\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Modal.modal.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n  render() {\r\n    const { img } = this.props;\r\n\r\n    return (\r\n      <div onClick={this.props.closeModal} className={s.Overlay}>\r\n        <div className={s.Modal}>\r\n          <img src={img.largeImageURL} alt={img.tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleSubmitForm = (event) => {\r\n    event.preventDefault();\r\n    this.props.handleSubmitForm(this.state.query);\r\n  };\r\n\r\n  handleInputChange = (event) => {\r\n    const { currentTarget } = event;\r\n    this.setState({ query: currentTarget.query });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmitForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormBbuttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleInputChange}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import axios from \"axios\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst getFetch = (query, page) => {\r\n  let key = `19872404-8517b83978ef96fd2196e3bf4`;\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&&per_page=12`\r\n  );\r\n};\r\n\r\n// async function getFetch(query, page) {\r\n//   let key = `19872404-8517b83978ef96fd2196e3bf4`;\r\n//   axios.defaults.baseURL = `https://pixabay.com/api/`;\r\n//   axios.defaults.headers.common[\"Authorization\"] = key;\r\n//   let url = `?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&&per_page=12`;\r\n//   const response = await axios.get(url);\r\n//   const data = await response.data;\r\n//   const photos = await data.photos;\r\n//   return photos;\r\n// }\r\n\r\nexport default getFetch;\r\n\r\ngetFetch.propTypes = {\r\n  query: propTypes.string,\r\n  page: propTypes.number,\r\n};\r\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport Button from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport getFetch from \"./services/PixabayApi\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    gallery: [],\n    modal: false,\n    isLoading: false,\n    button: true,\n    modalAbout: {},\n  };\n\n  componentDidUpdate() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n  handleSubmitForm = (query) => {\n    if (query) {\n      this.setState({ isLoading: true });\n\n      getFetch(query, 1)\n        .then(({ data }) => data.hits)\n        .then((data) =>\n          this.setState({\n            gallery: data,\n            query: query,\n            page: 2,\n            isLoading: false,\n            button: data.length === 12,\n          })\n        )\n        .catch((error) => console.error({ error }));\n    } else {\n      alert(\"please, enter query\");\n    }\n  };\n\n  loadMore = () => {\n    const { query, page, gallery } = this.state;\n    this.setState({ isLoading: true });\n    getFetch(query, page)\n      .then(({ data }) => data.hits)\n      .then((data) =>\n        this.setState({\n          gallery: [...gallery, ...data],\n          isLoading: false,\n          button: data.length === 12,\n        })\n      );\n    this.setState((state) => {\n      return { page: state.page + 1 };\n    });\n  };\n  showModal = (img) => {\n    const { modal } = this.state;\n    img\n      ? this.setState({ modalAbout: img, modal: !modal })\n      : this.setState({ modal: !modal });\n  };\n  closeModal = (event) => {\n    const { modal } = this.state;\n    if (event.target.nodeName === \"DIV\") {\n      this.setState({ modal: !modal });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <SearchBar handleSubmitForm={this.handleSubmitForm} />\n        {this.state.gallery.length === 0 ? (\n          <h1 className=\"title\">Enter your query</h1>\n        ) : (\n          <ImageGallery\n            gallery={this.state.gallery}\n            openModal={this.showModal}\n          />\n        )}\n        {this.state.modal && (\n          <Modal\n            showModal={this.showModal}\n            closeModal={this.closeModal}\n            img={this.state.modalAbout}\n          />\n        )}\n        {this.state.gallery.length !== 0 && this.state.button && (\n          <Button loadMore={this.loadMore} />\n        )}\n        {this.state.isLoading && <Loader />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__LHALn\",\"SearchForm\":\"Searchbar_SearchForm__20m_y\",\"SearchFormButton\":\"Searchbar_SearchFormButton__teCAf\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1jmFK\",\"SearchFormBbuttonLabel\":\"Searchbar_SearchFormBbuttonLabel__E7Aou\",\"SearchFormInput\":\"Searchbar_SearchFormInput__uwSwk\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2xHjS\"};"],"sourceRoot":""}